<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./css/bootstrap.css" />
  <script src="./js/bootstrap.bundle.js"></script>
</head>
<body>
  <div class="container-fluid">
    <form onsubmit="return false" style="width: 300px;" novalidate>
      <div class="mb-3">
        <label class="form-label" for="stuName">学生姓名</label>
        <input type="text" id="stuName" class="form-control" required minlength="2" maxlength="10"/>
        <div class="invalid-feedback">
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label" for="stuID">学生编号</label>
        <input type="text" id="stuID" class="form-control" required pattern="stu[0-9]{5}" />
        <div class="invalid-feedback">
        </div>
      </div>
      <div class="mb-3">
        <button type="submit" class="btn btn-primary w-100">提交</button>
      </div> 
    </form>
  </div>
</body>
<script>
  let form = document.querySelector('form')
  let stuName = document.querySelector('#stuName')
  let stuID = document.querySelector('#stuID')
  let stuNameFeedback = document.querySelector('#stuName~.invalid-feedback')
  let stuIDFeedback = document.querySelector('#stuID~.invalid-feedback')

  form.addEventListener('submit',(ev)=>{
    ev.preventDefault()
    ev.stopPropagation()

    let valid = true
    if(stuName.validity.valueMissing){
      stuNameFeedback.innerHTML = '内容为空'
      valid = false
    }else if(stuName.validity.tooShort){
      stuNameFeedback.innerHTML = '太短'
      valid = false
    }else if(stuName.validity.tooLong){
      stuNameFeedback.innerHTML = '太长'
      valid = false
    }

    stuName.classList.remove('is-valid','is-invalid')
    stuName.classList.add(valid ? 'is-valid':'is-invalid')

    form.classList.add('was-validated')
  })
</script>
</html>