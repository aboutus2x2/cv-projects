<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./css/bootstrap.css" />
  <script src="./js/bootstrap.bundle.js"></script>
</head>
<body>
  <div class="container-fluid">
    <form onsubmit="return false" style="width: 300px;" novalidate>
      <div class="mb-3">
        <label class="form-label" for="stuName">学生姓名</label>
        <input type="text" id="stuName" class="form-control" required/>
        <div class="invalid-feedback">
          学生姓名为空
        </div>
      </div>
      <div class="mb-3">
        <button type="submit" class="btn btn-primary w-100">提交</button>
      </div> 
    </form>
  </div>
</body>
<script>
  let form = document.querySelector('form')
  let stuName = document.querySelector('#stuName')
  form.addEventListener('submit',(ev)=>{
    // 取消form的默认事件
    ev.preventDefault()
    // 取消from的submit事件的冒泡\捕获
    ev.stopPropagation()

    let stuNameVal = stuName.value
    // 为空
    if(stuNameVal === ''){
      // 校验正确 is-valid    valid-feedback
      // 校验失败 is-invalid  invalid-feedback
      stuName.classList.remove('is-invalid','is-valid')
      // is-invalid 直接显示后面的 invalid-feedback 中的内容
      stuName.classList.add('is-invalid')
    }

    //表明这个表单校验过 
    //XXX-feedback

    //防止重复添加
    // if(!form.classList.contains('was-validated')){
      form.classList.add('was-validated')
    // }
    

  })
</script>
</html>