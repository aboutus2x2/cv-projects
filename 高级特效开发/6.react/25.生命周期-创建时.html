<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="js/babel.min.js"></script>
  <script src="js/react.development.js"></script>
  <script src="js/react-dom.development.js"></script>
</head>
<body>
  <div id="root"></div>
</body>
<script type="text/babel">
  /*
  - 意义：组件的生命周期有助于理解组件的运行方式、完成更复杂的组件功能，分析组件错误原因等
  - 组件的生命周期:组件从被创建到挂载到页面中运行,再到组件不用时卸载的过程  
  - 生命周期的每个阶段总是伴随着一些方法调用,这些方法就是生命周期的钩子函数。   
  - 钩子函数的作用:为开发人员在不同阶段操作组件提供了时机。   
  - 只有"类组件"才有生命周期
  */

  // 创建时 constructor -> render -> componentDidMount
  class App extends React.Component{

    //渲染页面完成前
    constructor(props){
      super(props)
      console.log('App constructor 执行')
      //1、初始化state
      this.state = {
        count:0
      }
      //2、绑定事件函数
      this.handleClick = this.handleClick.bind(this)
    }

    handleClick(){
      //点击事件
    }

    //渲染页面
    //重要概念：setState 一旦修改成功，render会执行一次
    //问：为什么render中不能用setState （因为会陷入死循环）
    render(){
      console.log('App render 执行')
      return (<div onClick={this.handleClick}>App</div>)
    }

    //渲染页面完成后
    componentDidMount(){
      console.log('App componentDidMount 执行')
      //1、发送网络请求 ：ajax axios fetch...
      //2、DOM操作： document.querySelector()...
    }
  }

  let root = document.querySelector('#root')
  ReactDOM.createRoot(root).render(<App />)
</script>
</html>