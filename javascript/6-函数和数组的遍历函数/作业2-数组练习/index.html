<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=SSS, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // - 创建一个数组，数组中存放100个随机整数，每个数字为0~100间的数
    let arr = []
    for (let i = 0; i < 100; i++) {
        arr.push(Math.round(Math.random() * 100))
    }
    console.log(arr);



    // - 获取一个所有数字都缩小为二分之一的数组
    let r = arr.map(el => el * 0.5)
    console.log(r);


    // - 将数组从小到大排序
    // 1 2 3 4
    // arr.sort((el1, el2) => {
    //     if (el1 > el2) {
    //         return 1
    //     } else if (el1 < el2) {
    //         return -1
    //     } else {
    //         return 0
    //     }
    // })

    // arr.sort((el1, el2) => el1 - el2)
    // console.log(arr);


    // - 获取一个只保留能被3整除数字的数组
    r = arr.filter(el => el % 3 === 0)
    console.log(r);



    // - 找到第2个能被5整除的数，打印结果并跳出循环
    let count = 0 // 能被 5整除数的个数
    arr.every(el => {
        if (el % 5 === 0) {
            // 统计个数
            count++

            if (count === 2) {
                // 判断是否已经有2个了
                console.log(el);
                return false
            }
        }

        return true
    })




    // - 计算所有数字的平均值
    // 方法一
    // 数字和
    let sum = 0
    // 求和
    arr.forEach(el => {
        sum += el
    })
    console.log(sum / arr.length);

    // 方法二
    r = arr.map(el => {
        return {
            avg: 0, // 平均数
            sum: 0, // 和
            count: 0, // 数量
            num: el // 当前数字
        }
    })
    // 前置一个空数据
    r.unshift({
        avg: 0,
        sum: 0,
        count: 0,
        num: 0
    })
    r = r.reduce((p, n) => {
        // 求和
        let sum = p.sum + n.num
        // 统计数量
        let count = p.count + 1
        // 平均数
        let avg = sum / count

        // 返回结果和map的结果  结构一致
        return {
            avg,
            sum,
            count,
            num: 0
        }
    })
    console.log(r.avg);






    // - 判断数组中是否有个数能被 32 整除，有的话请打印出来他的索引和值
    // 方法一:
    // let i, value
    // r = arr.some((el, index) => {
    //     if (el % 32 === 0) {
    //         // 找到能被32整除的数就保存索引和值
    //         i = index
    //         value = el
    //         return true
    //     } else {
    //         return false
    //     }
    // })
    // console.log('有无能被32整除的数', r);
    // if (r) {
    //     console.log(`索引: ${i}; 值: ${value}`);
    // }

    // 方法二：
    r = arr.some(el => el % 32 === 0)
    console.log('有无能被32整除的数', r);
    if (r) {
        // 有的话就查询对应数字的索引
        let i = arr.findIndex(el => el % 32 === 0)
        console.log(`索引: ${i}; 值: ${arr[i]}`);
    }




    // - 找到数组中不能被 3 5 整除的数，并打印出来
    r = arr.find(el => el % 3 !== 0 && el % 5 !== 0)
    console.log(r);




    // - 删除数组中所有能够被 2 4 整除的数，并打印出来
    let arr2 = [] // 能被2 4 整除的数存放到该数组
    r = arr.filter(el => {
        if (el % 2 === 0 && el % 4 === 0) {
            // 能被 2 4 整除
            arr2.push(el)
            return false
        }
        return true
    })
    console.log(r);
    console.log(arr2);
</script>

</html>