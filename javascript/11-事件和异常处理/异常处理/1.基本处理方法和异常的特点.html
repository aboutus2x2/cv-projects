<!DOCTYPE html>
<html>

<head></head>

<body></body>
<script>
    // 异常处理

    // 什么是异常？当程序运行时，运行不下去了，碰到了问题，该问题就是一个异常
    // 异常的特点：当程序抛出异常后，代码将停止运行

    // 什么是异常处理？当程序出现异常时，开发人员进行的一个手动处理
    // 异常处理的方法叫做捕获异常

    // 只有运行时异常(runtime error)需要进行捕获
    // 运行时异常：程序稳定运行时，可能出现的异常（例如用户输入）


    // 异常演示如下：

    function fn1() {
        fn2()
    }

    function fn2() {
        // 当程序遇到问题时，由js引擎自动创建一个异常对象，从函数内向外抛出
        // 异常出现在函数中
        console.log(obj)
    }

    // 异常抛出到调用栈的顶部之后，还没人处理，则异常将抛到控制台，程序将终止运行
    // fn1()

    // console.log('hello world');

    // 捕获异常如下：

    // 通过 try catch 捕获异常，手动排除异常，并让程序能够继续运行
    // 语法如下：
    // try {
    //      // 代码块: 该代码块中可以写入你想要尝试运行的代码
    // } catch(e) { // e：该参数是一个 Error 对象
    // 当 try 代码块中的容抛出异常时，将触发 catch 代码块的内容
    //      // 代码块: 对异常进行处理的逻辑写在这里
    // }
    // 注意：try catch 代码块 必须同时存在

    // try {
    //     // 在try中执行可能会有异常的代码
    //     fn1()
    // } catch (e) {
    //     // Error 对象包含两个常用属性
    //     // message: 异常消息
    //     console.log(e.message);

    //     // stack: 调用栈的信息
    //     // 调用栈可以用来查看异常程序整个调用的流程，便于找到异常位置
    //     console.log(e.stack);
    // }

    // 被处理后的异常不会导致程序终止
    // 程序会继续执行
    // console.log('hello world');

    // Error ： 异常对象
    // 当程序出现了系统异常时，程序回自动抛出一个 Error 对象
    // 可以手动创建异常对象

    // 这是个除法函数
    function div(x, y) {
        if (y === 0) {
            // 除数不能为零，所以此处我们手动抛出异常
            // 1. 创建异常对象
            // let error = new Error('除数不能为0')
            // // 2. 抛出异常
            // // 抛出异常后程序将终止运行
            // throw error

            throw new Error('除数不能为0')
        }
        return x / y
    }

    try {
        div(2, 0)
    } catch (e) {
        console.error(e);
    }

    console.log('hello world');

</script>

</html>